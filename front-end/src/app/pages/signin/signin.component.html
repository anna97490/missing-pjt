<div class="container-signin">
  <!-- Back Index -->
  <a href="/login"
    class="link-index flex items-center text-base font-normal text-gray-900 rounded-lg dark:text-red hover:bg-gray-100
           dark:hover:bg-gray-700">
    <svg aria-hidden="true" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400
      group-hover:text-gray-900 dark:group-hover:text-white"
      fill="currentColor"
      viewBox="0 0 512 512"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        d="M360 224L272 224v-56c0-9.531-5.656-18.16-14.38-22C248.9 142.2 238.7 143.9 231.7 150.4l-96 88.75C130.8 243.7
           128 250.1 128 256.8c.3125 7.781 2.875 13.25 7.844 17.75l96 87.25c7.031 6.406 17.19 8.031 25.88 4.188s14.28-12.44
           14.28-21.94l-.002-56L360 288C373.3 288 384 277.3 384 264v-16C384 234.8 373.3 224 360 224zM256 0C114.6 0 0 114.6
           0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208
           93.31 208 208S370.7 464 256 464z"
      />
    </svg>
    <span class="flex-1 ml-3 whitespace-nowrap"></span>
  </a>

  <!-- Page content  -->
  <section>
    <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0">
      <!-- Logo  -->
      <div class="logo">
        <a href="#">
          <img class="logo" src="../../assets/logo-taille-header.png" alt="The logo of Missing website" />
        </a>
      </div>

      <div class="w-full rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:border-gray-700">
        <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
          <h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl" style="text-align: center;">Créer un compte</h1>
          <!-- Form  -->
          <form [formGroup]="signinForm" (submit)="signin($event)" class="space-y-4 md:space-y-6" action="#">
            <!-- Firstname -->
            <div>
              <label for="firstname" class="block mb-2 text-sm font-medium text-gray-900 ">Prénom</label>
              <input
                type="text"
                formControlName="firstname"
                name="firstname"
                id="nom"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600
                       focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400
                       dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Votre prénom"
                required="true"
              />
            </div>
            <div
              *ngIf="" class="message">
              <span>Veuillez remplir tous les champs</span>
            </div>
            <!-- Lastname  -->
            <div>
              <label for="lastname" class="block mb-2 text-sm font-medium text-gray-900 ">Nom</label>
              <input
                type="text"
                formControlName="lastname"
                name="lastname"
                id="prenom"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600
                       focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400
                       dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Votre nom"
                required="true"
              />
            </div>
            <!-- Email  -->
            <div>
              <label for="email" class="block mb-2 text-sm font-medium text-gray-900">Email</label>
              <input
                type="email"
                formControlName="email"
                name="email"
                id="email"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600
                       focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400
                       dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Votre email"
                required="true"
              />
              <div *ngIf="isErrorEmail" class="error-email">Cette adresse mail est déjà utilisée</div>
            </div>

            <!-- Birth date  -->
            <div>
              <label for="birthDate" class="block mb-2 text-sm font-medium text-gray-900">Date de naissance</label>
              <input
                type="date"
                formControlName="birthDate"
                name="birthDate"
                id="birthDate"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600
                        focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400
                        dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                required="true"
              />
              <div *ngIf="isErrorDate" class="error-birth-date">Vous devez être âgé de 18 ans ou plus</div>
            </div>
            <!-- Password  -->
            <div class="relative">
              <label for="password" class="block mb-2 text-sm font-medium text-gray-900">Mot de passe</label>
              <input
                type="password"
                formControlName="password"
                name="password"
                id="password"
                placeholder="••••••••"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600
                       focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400
                       dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                required="true" maxlength="18"
                (input)="checkPasswordValidity()"
                (focus)="showPasswordInfo = true"
                (blur)="showPasswordInfo = false"/>
              <div class="text-sm mt-2" [ngClass]="{'opacity-100': showPasswordInfo, 'opacity-0': !showPasswordInfo}"
                   [style.visibility]="showPasswordInfo ? 'visible' : 'hidden'">
                <span id="length-info" class="text-red-500">
                  Entre 8 et 18 caractères
                  <i class="fa-solid" [ngClass]="{'fa-xmark': !isLengthValid, 'fa-check': isLengthValid}"
                     [style.color]="isLengthValid ? '#1eff00' : '#ff0000'"></i>
                </span>
                <span id="uppercase-info" class="text-red-500">
                  Au moins une majuscule
                  <i class="fa-solid" [ngClass]="{'fa-xmark': !hasUppercase, 'fa-check': hasUppercase}"
                     [style.color]="hasUppercase ? '#1eff00' : '#ff0000'"></i>
                </span>
                <span id="number-info" class="text-red-500">
                  Au moins 1 chiffre
                  <i class="fa-solid" [ngClass]="{'fa-xmark': !hasNumber, 'fa-check': hasNumber}"
                     [style.color]="hasNumber ? '#1eff00' : '#ff0000'"></i>
                </span>
              </div>
            </div>

            <!-- Button  -->
            <div class="cont-btn">
              <button
                type="submit"
                class="btn-invalid-form py-2.5 px-5 mr-2 text-sm font-medium text-gray-900 rounded-lg border border-gray-200
                       focus:z-10 focus:ring-4 focus:outline-none focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800
                       dark:text-gray-400 dark:border-gray-600 inline-flex items-center"
                [disabled]="signinForm.invalid"
                [ngClass]="{ 'btn-valid-form': signinForm.valid }"
              >
                Créer un compte
              </button>
            </div>
            <p class="text-sm font-light">Vous possédez déjà un compte? <a routerLink="/login" class="font-medium  hover:underline ">Identifiez-vous</a></p>
          </form>

        </div>
      </div>
    </div>
  </section>
</div>
